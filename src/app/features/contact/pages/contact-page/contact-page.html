@if (currentLocation) {
  <div class="contact-page">
    <div class="container">
      <h1 class="contact-heading">{{ currentLocation.labels.heading }}</h1>

      <div class="contact-content">
        <div class="left-column">
          <mat-card class="image-card" appearance="outlined">
            <img
              mat-card-image
              src="/assets/images/professionals.avif"
              alt="Professionals"
              i18n-alt="Contact page|Image of professionals alt text"
              class="contact-image"
            />
          </mat-card>

          <p class="contact-subheading">{{ currentLocation.labels.subheading }}</p>

          <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>{{ currentLocation.labels.name }}</mat-label>
              <input matInput type="text" id="name" formControlName="name" />
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>{{ currentLocation.labels.email }}</mat-label>
              <input matInput type="email" id="email" formControlName="email" />
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>{{ currentLocation.labels.subject }}</mat-label>
              <mat-select id="subject" formControlName="subject">
                @for (subject of subjects; track subject) {
                  <mat-option [value]="subject">{{ subject }}</mat-option>
                }
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>{{ currentLocation.labels.message }}</mat-label>
              <textarea matInput id="message" formControlName="message" rows="5"></textarea>
            </mat-form-field>

            <button
              mat-raised-button
              color="primary"
              type="submit"
              class="submit-button"
              [disabled]="!contactForm.valid"
            >
              {{ currentLocation.labels.submit }}
            </button>
          </form>
        </div>

        <div class="right-column">
          <mat-card class="contact-info-card" appearance="outlined">
            <mat-card-content>
              <p class="info-item">{{ currentLocation.address }}</p>
              <p class="info-item">
                <a [href]="'mailto:' + currentLocation.email">{{ currentLocation.email }}</a>
              </p>
              <p class="info-item">
                <a [href]="'tel:' + currentLocation.phone.replace(/[^0-9+]/g, '')">{{
                  currentLocation.phone
                }}</a>
              </p>
            </mat-card-content>
          </mat-card>

          <div class="map-container">
            <iframe
              [src]="currentLocation.mapSrc | safe: 'resourceUrl'"
              width="100%"
              height="400"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
} @else {
  <div class="contact-page">
    <div class="container">
      <p class="error-message" i18n="Contact page|Error message when location not found">Location not found</p>
    </div>
  </div>
}
